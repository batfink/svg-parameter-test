<?xml version="1.0" standalone="yes"?>
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <rect id="box" width="100" height="100" fill="black" />
    <script type="text/javascript"><![CDATA[

        console.log('logging from svg');


        var doc = document.defaultView;

        console.log('document:', doc);

        var params = doc.frameElement.getElementsByTagName('param');


        console.log('params:', params);

        var color = 'orange';

        if (params && params.color && params.color.value) {
            color = params.color.value;
        } else if (!!doc.location.search && doc.location.search.indexOf('color') !== -1) {
            color = doc.location.search.match(/(?:color=)([a-z0-9#]+)/)[1];
        }

        var box = document.getElementById('box');
        box.setAttribute('fill', color);

    ]]></script>
</svg>
